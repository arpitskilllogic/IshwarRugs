generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Collection {
  id               Int        @id @default(autoincrement())
  name             String
  slug             String     @unique
  description      String
  shortDescription String?
  featured         Boolean    @default(false)
  category         String
  heroImage        String
  galleryImages    String[]
  products         Product[]

  @@index([category])
}

model Product {
  id           Int        @id @default(autoincrement())
  name         String
  slug         String     @unique
  description  String
  material     String?
  dimensions   String?
  colors       String[]
  images       String[]
  featured     Boolean    @default(false)
  price        Float      @default(0.0)     // âœ… Added price field

  collection   Collection @relation(fields: [collectionId], references: [id])
  collectionId Int

  orders       Order[]

  @@index([collectionId])
}

model Inquiry {
  id        Int      @id @default(autoincrement())
  name      String
  email     String
  phone     String?
  subject   String
  message   String
  type      String   @default("general")
  createdAt DateTime @default(now())
}

model Admin {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  name      String
  createdAt DateTime @default(now())
}

model Customer {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
  phone     String?
  orders    Order[]
  createdAt DateTime @default(now())
}

model Order {
  id         Int      @id @default(autoincrement())
  customer   Customer @relation(fields: [customerId], references: [id])
  customerId Int

  product    Product  @relation(fields: [productId], references: [id])
  productId  Int

  quantity   Int
  status     String   @default("pending")
  createdAt  DateTime @default(now())
}
